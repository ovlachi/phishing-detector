<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - PhishR</title>
    <link rel="stylesheet" href="/src/api/static/css/normalize.css" />
    <link rel="stylesheet" href="/src/api/static/css/styles.css" />
    <link rel="stylesheet" href="/src/api/static/css/responsive.css" />
  </head>
  <body>
    <!-- Left Sidebar Navigation -->
    <div class="sidebar">
      <div class="sidebar-logo">
        <img src="/src/api/static/img/logo-placeholder.svg" alt="PhishR Logo" />
        <span>PhishR</span>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li><a href="/dashboard" class="active">Dashboard</a></li>
          <li><a href="#features">Features</a></li>
          <li>
            <a href="#" class="coming-soon">Live Monitoring <span class="coming-soon-tag">COMING SOON</span></a>
          </li>
          <li><a href="/logout" class="logout-btn">Logout</a></li>
        </ul>
      </nav>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Welcome Section -->
      <section class="welcome-section">
        <h1>Welcome, {{ user.full_name }}!</h1>
        <p>You are now logged in to your secure dashboard.</p>
      </section>

      <!-- URL Scanner Section -->
      <section class="scanner-section">
        <h2>URL Scanner</h2>
        <p>Scan any URL to check if it's legitimate or potentially dangerous.</p>
        <form id="scan-form" class="scan-form">
          <input type="url" id="url-input" name="url" placeholder="Enter a URL to scan..." required />
          <button type="submit" id="scan-button" class="btn btn-primary">SCAN NOW</button>
        </form>
      </section>

      <!-- Scan Results Section -->
      <section id="results-section" class="results-section">
        <h2>Scan Results</h2>
        <div id="loading-spinner" class="loading-spinner">
          <div class="spinner"></div>
          <p>Analyzing URL...</p>
        </div>
        <div id="results-container" class="results-container">
          <!-- Results will be displayed here dynamically -->
        </div>
      </section>

      <!-- Batch URL Scanning Section -->
      <section class="batch-scanner-section">
        <h2>Batch URL Scanning</h2>
        <p>Please enter a new URL on each line (Limit 0/10)</p>

        <form id="batch-scan-form" class="batch-scan-form">
          <div class="url-inputs">
            <textarea id="batch-url-input" rows="10" placeholder="Enter URLs (one per line)" class="batch-url-textarea"></textarea>
          </div>
          <div class="form-controls">
            <button type="submit" id="batch-scan-button" class="btn btn-primary">SCAN</button>
          </div>
        </form>

        <!-- CSV Upload Option -->
        <div class="csv-upload">
          <p>Or upload a CSV file with URLs (one URL per row)</p>
          <form id="csv-upload-form">
            <input type="file" id="csv-file-input" accept=".csv" />
            <button type="submit" class="btn btn-secondary">Upload & Scan</button>
          </form>
        </div>
      </section>

      <!-- Scan History Section -->
      <section class="scan-history-section">
        <h2>Scan History</h2>
        <p>View your recent URL scans and their results.</p>

        <div class="scan-history-table-container">
          <table class="scan-history-table">
            <thead>
              <tr>
                <th>Source URL</th>
                <th>IP Address</th>
                <th>Hosting Provider</th>
                <th>Disposition</th>
                <th class="sortable">Detection Date <span class="sort-icon">â–¼</span></th>
                <th>Brand</th>
                <th>Source</th>
              </tr>
            </thead>
            <tbody id="scan-history-body">
              <!-- History entries will be populated here -->
              <tr>
                <td colspan="7" class="empty-history">No scan history available yet</td>
              </tr>
            </tbody>
          </table>

          <!-- Pagination -->
          <div class="pagination">
            <button class="pagination-btn">&lt;</button>
            <span class="pagination-info">1 of 2</span>
            <button class="pagination-btn">&gt;</button>
          </div>
        </div>
      </section>

      <!-- Batch results section will be added dynamically via JavaScript -->
    </div>

    <script src="/src/api/static/js/main.js"></script>
  </body>
</html>
